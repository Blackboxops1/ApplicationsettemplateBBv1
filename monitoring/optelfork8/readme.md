
https://opentelemetry.io/docs/kubernetes/getting-started/
Getting Started
This page will walk you through the fastest way to get started monitoring your Kubernetes cluster using OpenTelemetry.
 
 It will focus on collecting metrics  and logs 
 
 for Kubernetes clusters, nodes, pods, and containers, as well as enabling the cluster to support services emitting OTLP data

Overview

Kubernetes exposes a lot of important telemetry in many different ways. It has logs, events, metrics for many different objects, and the data generated by its workloads.

To collect all of this data we’ll use the OpenTelemetry Collector. The collector has many different tools at its disposal which allow it to efficiently collect all this data and enhance it in meaningful ways.

To collect all the data, we’ll need two installations of the collector, 

REQUIRES 2 INSTALLATONS OF THE COLLECTOR CHART:

one as a Daemonset //COLLECT TELEMETRY BY SERVICES, LOGS, METRICS FOR NODES, PODS AND CONTAINERS

and 

one as a Deployment //COLLECT METRICS FOR CLUSTER AND EVENTS


The Daemonset installation of the collector will be used to collect telemetry emitted by services, logs, and metrics for nodes, pods, and containers. 

The deployment installation of the collector will be used to collect metrics for the cluster and events.


To install the collector, we’ll use the OpenTelemetry Collector Helm chart, which comes with a few configuration options that will make configure the collector easier. If you’re unfamiliar with Helm, check out the Helm project site. If you’re interested in using a Kubernetes operator, see OpenTelemetry Operator, but this guide will focus on the Helm chart.


Daemonset Collector

The first step to collecting Kubernetes telemetry is to deploy a daemonset instance of the OpenTelemetry Collector to gather telemetry related to nodes and workloads running on those node. A daemonset is used to guarantee that this instance of the collector is installed on all nodes. Each instance of the collector in the daemonset will collect data only from the node on which it is running.

This instance of the collector will use the following components:

- OTLP Receiver: to collect application traces, metrics and logs.
- Kubernetes Attributes Processor: to add Kubernetes metadata to incoming application telemetry.
- Kubeletstats Receiver: to pull node, pod, and container metrics from the API server on a kubelet.
- Filelog Receiver: to collect Kubernetes logs and application logs written to stdout/stderr.


//
The OpenTelemetry Collector Helm chart makes configuring all of these components in a daemonset installation of the collector easy. It will also take care of all of the Kubernetes-specific details, such as RBAC, mounts and host ports.

COLLECTOR CHART DOES NOT BY DEFAULT SEND DATA TO BACKEND

One caveat - the chart doesn’t send the data to any backend by default. 

If you want to actually use your data in your favorite backend you’ll need to configure an exporter yourself.

The following values.yaml is what we’ll use


OpenTelemetry Operator Chart: INSTRUMENT WORKLOADS
Introduction

The OpenTelemetry Operator is a Kubernetes operator that manages OpenTelemetry Collectors and auto-instrumentation of workloads. One of the ways to install the OpenTelemetry Operator is via the OpenTelemetry Operator Helm Chart.

For detailed use of the OpenTelemetry Operator visit its docs.

Installing



//TO DO
1. INSTALL 2 VERSIONS OF THE COLLECTOR CHART AS NOTED ABOVE
2. INSTALL OPERATOR
